<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bus Selection</title>
    <style>
        body {
            font-family: Roboto, sans-serif;
            width: 100%;
            height: 100%;
            background-image: url(images/4.jpg);
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 400px;
            padding: 20px;
            border-radius: 20px;
            background-color: rgba(255, 255, 255, 0.8);
            margin: 0 auto;
            margin-top: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: black;
            font-weight: bold;
        }

        input, select {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 2px solid #ccc;
            border-radius: 6px;
            box-sizing: border-box;
        }

        button {
            padding: 10px;
            background-color: rgb(22, 110, 40);
            color: #fff;
            border-radius: 5px;
            border: none;
            cursor: pointer;
            margin-top: 10px;
            width: 100%;
        }

        button:hover {
            background-color: #45a049;
        }

        img {
            width: 100px;
            height: 50px;
            display: block;
            margin: 20px auto 0;
        }

        .bus_title {
            text-align: center;
            font-size: 30px;
            margin-bottom: 20px;
        }

        h2 {
            font-size: 30px;
            text-align: center;
            margin-top: 0;
        }

        /* Media Queries */
        @media (max-width: 768px) {
            .container {
                width: 90%;
                margin-top: 10px;
            }

            .bus_title, h2 {
                font-size: 25px;
            }
        }

        @media (max-width: 480px) {
            .container {
                width: 95%;
                margin-top: 5px;
            }

            .bus_title, h2 {
                font-size: 20px;
            }

            button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="image">
        <img src="images/buslogo-removebg-preview.png" alt="Bus Logo">
    </div>
    <h2> User Selection</h2>
    <div class="container">
        <form id="selectionForm" action="bus.html" method="GET" onsubmit="return validateForm()">
            <input type="hidden" id="name" name="name" value="">
            <input type="hidden" id="gender" name="gender" value="">
            <input type="hidden" id="phone" name="phone" value="">
            <input type="hidden" id="email" name="email" value="">

            <label for="busType">Select Bus Type:</label>
            <select id="busType" name="busType" required>
                <option value="" disabled selected>Choose Bus Type</option>
                <option value="ordinary">Ordinary</option>
                <option value="express">Express</option>
                <option value="deluxe">Deluxe</option>
                <option value="superluxury">Super Luxury</option>
            </select>

            <label for="dob">Date of Journey:</label>
            <input type="date" id="dob" name="dob" required>

            <label for="time">Time:</label>
            <input type="time" id="time" name="time" required>

            <label for="from">From:</label>
            <select id="from" name="from" onchange="updateToOptions()" required>
                <option value="" disabled selected>From</option>
                <option value="Adilabad">Adilabad</option>
                <option value="Bhadradri-Kothagudem">Bhadradri-Kothagudem</option>
                <option value="Hyderabad">Hyderabad</option>
                <option value="Jagtial">Jagtial</option>
                <option value="Jangaon">Jangaon</option>
                <option value="Jayashankar Bhoopalpally">Jayashankar Bhoopalpally</option>
                <option value="Jogulamba-Gadwal">Jogulamba-Gadwal</option>
                <option value="Kamareddy">Kamareddy</option>
                <option value="Karimnagar">Karimnagar</option>
                <option value="Khammam">Khammam</option>
                <option value="Komaram Bheem Asifabad">Komaram Bheem Asifabad</option>
                <option value="Mahabubabad">Mahabubabad</option>
                <option value="Mahabubnagar">Mahabubnagar</option>
                <option value="Mancherial">Mancherial</option>
                <option value="Medchal">Medchal</option>
                <option value="Medak">Medak</option>
                <option value="Nagarkurnool">Nagarkurnool</option>
                <option value="Nalgonda">Nalgonda</option>
                <option value="Nirmal">Nirmal</option>
                <option value="Nizamabad">Nizamabad</option>
                <option value="Peddapalle">Peddapalle</option>
                <option value="Rajanna Sircilla">Rajanna Sircilla</option>
                <option value="Ranga Reddy">Ranga Reddy</option>
                <option value="Sangareddy">Sangareddy</option>
                <option value="Siddipet">Siddipet</option>
                <option value="Suryapet">Suryapet</option>
                <option value="Vikarabad">Vikarabad</option>
                <option value="Wanaparthy">Wanaparthy</option>
                <option value="Warangal (Rural)">Warangal (Rural)</option>
                <option value="Warangal (Urban)">Warangal (Urban)</option>
                <option value="Yadadri-Bhuvanagiri">Yadadri-Bhuvanagiri</option>
            </select>

            <label for="to">To:</label>
            <select id="to" name="to" required>
                <option value="" disabled selected>To</option>
                <option value="Adilabad">Adilabad</option>
                <option value="Bhadradri-Kothagudem">Bhadradri-Kothagudem</option>
                <option value="Hyderabad">Hyderabad</option>
                <option value="Jagtial">Jagtial</option>
                <option value="Jangaon">Jangaon</option>
                <option value="Jayashankar Bhoopalpally">Jayashankar Bhoopalpally</option>
                <option value="Jogulamba-Gadwal">Jogulamba-Gadwal</option>
                <option value="Kamareddy">Kamareddy</option>
                <option value="Karimnagar">Karimnagar</option>
                <option value="Khammam">Khammam</option>
                <option value="Komaram Bheem Asifabad">Komaram Bheem Asifabad</option>
                <option value="Mahabubabad">Mahabubabad</option>
                <option value="Mahabubnagar">Mahabubnagar</option>
                <option value="Mancherial">Mancherial</option>
                <option value="Medchal">Medchal</option>
                <option value="Medak">Medak</option>
                <option value="Nagarkurnool">Nagarkurnool</option>
                <option value="Nalgonda">Nalgonda</option>
                <option value="Nirmal">Nirmal</option>
                <option value="Nizamabad">Nizamabad</option>
                <option value="Peddapalle">Peddapalle</option>
                <option value="Rajanna Sircilla">Rajanna Sircilla</option>
                <option value="Ranga Reddy">Ranga Reddy</option>
                <option value="Sangareddy">Sangareddy</option>
                <option value="Siddipet">Siddipet</option>
                <option value="Suryapet">Suryapet</option>
                <option value="Vikarabad">Vikarabad</option>
                <option value="Wanaparthy">Wanaparthy</option>
                <option value="Warangal (Rural)">Warangal (Rural)</option>
                <option value="Warangal (Urban)">Warangal (Urban)</option>
                <option value="Yadadri-Bhuvanagiri">Yadadri-Bhuvanagiri</option>
            </select>

            <button type="submit">Next</button>
        </form>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const params = new URLSearchParams(window.location.search);
            document.getElementById('name').value = params.get('name');
            document.getElementById('gender').value = params.get('gender');
            document.getElementById('phone').value = params.get('phone');
            document.getElementById('email').value = params.get('email');
        });

        function validateForm() {
            var from = document.getElementById("from").value;
            var to = document.getElementById("to").value;

            if (from === to) {
                alert("From and To places cannot be the same.");
                return false;
            }
            return true;
        }

        function updateToOptions() {
            var from = document.getElementById("from").value;
            var toSelect = document.getElementById("to");

            // Enable all options first
            for (var i = 0; i < toSelect.options.length; i++) {
                toSelect.options[i].disabled = false;
            }

            // Disable the selected "From" place in the "To" options
            for (var i = 0; i < toSelect.options.length; i++) {
                if (toSelect.options[i].value === from) {
                    toSelect.options[i].disabled = true;
                    break;
                }
            }
        }

        // Get today's date
        var today = new Date();
        
        // Format the date to YYYY-MM-DD
        var dd = String(today.getDate()).padStart(2, '0');
        var mm = String(today.getMonth() + 1).padStart(2, '0'); // January is 0!
        var yyyy = today.getFullYear();
    
        // Concatenate the date parts
        var minDate = yyyy + '-' + mm + '-' + dd;
        
        // Set the minimum date allowed for selection
        document.getElementById("dob").setAttribute("min", minDate);

        // Set the value of the input field to today's date
        document.getElementById("dob").value = minDate;
    </script>
</body>
</html>
